{"ast":null,"code":"var _jsxFileName = \"/Users/Manideep/Downloads/umake/console/src/components/ViewCard.js\";\nimport React, { Component } from \"react\";\nimport data from \"./data\";\nimport style from \"./custom.module.css\";\nimport axios from 'axios';\nimport Draggable from \"react-draggable\";\nimport { Link } from \"react-router-dom\";\nimport DesignCards from \"./DesignCards\";\nconst close_o = {\n  position: \"absolute\",\n  margin: \"5px\",\n  zIndex: \"2\",\n  fontSize: \"30px\",\n  right: \"10px\",\n  top: \"6px\"\n};\nconst close_f = {\n  position: \"absolute\",\n  color: \"red\",\n  margin: \"5px\",\n  fontSize: \"30px\",\n  right: \"10px\",\n  top: \"6px\"\n};\nconst cardImgTop = {\n  width: \"100%\",\n  height: \"15vw\",\n  objectFit: \"cover\"\n};\nconst titleHeight = {\n  height: \"50px\"\n};\nconst widthSet = {\n  width: \"18rem\"\n}; // const marginSet = {\n//   margin: \"70px\",\n// };\n\nconst rectangleSet = {\n  position: \"absolute\",\n  display: \"inline-block\",\n  top: \"5px\",\n  left: \"0px\"\n};\nconst triangleSet = {\n  position: \"absolute\",\n  display: \"inline-block\",\n  top: \"5px\",\n  left: \"80px\"\n};\nvar currentPrice = 0;\nconst OrderDetails = data.OrderDetails;\nvar productType = null;\n\nclass ViewCard extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      var pathArray = window.location.pathname.split('/');\n      productType = pathArray[pathArray.length - 1];\n      axios.get(`/design/${productType}`).then(response => {\n        console.log(response.data);\n        this.setState({\n          product: response.data,\n          productType: productType\n        }, () => console.log(this.state.product));\n      });\n    };\n\n    this.moveToWishlistHandle = (index, id) => {\n      console.log(this.state.product[index].inWishlist);\n      this.setState(({\n        product\n      }) => ({\n        product: [...product.slice(0, index), { ...product[index],\n          inWishlist: !this.state.product[index].inWishlist\n        }, ...product.slice(index + 1)]\n      }), () => {\n        console.log(this.state.product[index].inWishlist);\n        axios.post(`http://localhost:3001/design/${productType}/${id}`, {\n          inWishlist: this.state.product[index].inWishlist\n        }).then(response => console.log(response.data)).catch(err => {\n          console.log(err);\n        });\n      });\n    };\n\n    this.state = {\n      product: [],\n      arrayF: null,\n      arrayB: null,\n      // fontName: \"Montserrat\",\n      color: \"black\",\n      // alignment: \"left\",\n      // bold: false,\n      // underline: false,\n      // italic: false,\n      // word: \"\",\n      // fontSize: 20,\n      border: true,\n      // option: 0,\n      // background: \"#ffffff\",\n      // tshirtFront: \"/white_mockup.png\",\n      // tshirtBack: \"/red_mockup.png\",\n      // selected: \"\",\n      // deltaPosition: { x: 0, y: 0 },\n      // acceptedFiles: [],\n      arrayFimg: [],\n      arrayBimg: []\n    };\n  }\n\n  calculateCurrentPrice(actualPrice, discount) {\n    currentPrice = actualPrice - discount / 100 * actualPrice;\n    return currentPrice;\n  }\n\n  render() {\n    const {\n      // arrayF,\n      // arrayB,\n      // border,\n      // tshirtFront,\n      // tshirtBack,\n      // arrayFimg,\n      // arrayBimg,\n      productType\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row d-flex justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, this.state.product == null ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 39\n      }\n    }) : this.state.product.map((order_info, index) => /*#__PURE__*/React.createElement(DesignCards, {\n      arrayF: order_info.customized_object.arrayF,\n      arrayB: order_info.customized_object.arrayB,\n      arrayFimg: order_info.customized_object.arrayFImg,\n      arrayBimg: order_info.customized_object.arrayBImg,\n      actualPrice: order_info.actualPrice,\n      name: order_info.name,\n      discount: order_info.discount,\n      imageColor: order_info.customized_object.imageColor,\n      frontString: order_info.customized_object.frontString,\n      backString: order_info.customized_object.backString,\n      inWishlist: order_info.inWishlist,\n      productType: productType,\n      location: order_info.location,\n      index: index,\n      _id: order_info._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    })));\n  }\n\n}\n\nexport default ViewCard;","map":{"version":3,"sources":["/Users/Manideep/Downloads/umake/console/src/components/ViewCard.js"],"names":["React","Component","data","style","axios","Draggable","Link","DesignCards","close_o","position","margin","zIndex","fontSize","right","top","close_f","color","cardImgTop","width","height","objectFit","titleHeight","widthSet","rectangleSet","display","left","triangleSet","currentPrice","OrderDetails","productType","ViewCard","constructor","componentDidMount","pathArray","window","location","pathname","split","length","get","then","response","console","log","setState","product","state","moveToWishlistHandle","index","id","inWishlist","slice","post","catch","err","arrayF","arrayB","border","arrayFimg","arrayBimg","calculateCurrentPrice","actualPrice","discount","render","map","order_info","customized_object","arrayFImg","arrayBImg","name","imageColor","frontString","backString","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport data from \"./data\";\nimport style from \"./custom.module.css\";\nimport axios from 'axios';\nimport Draggable from \"react-draggable\";\nimport { Link } from \"react-router-dom\";\nimport DesignCards from \"./DesignCards\";\n\n\nconst close_o = {\n  position: \"absolute\",\n  margin: \"5px\",\n  zIndex:\"2\",\n  fontSize:\"30px\",right:\"10px\",top:\"6px\"\n};\nconst close_f = {\n  position: \"absolute\",\n  color: \"red\",\n  margin: \"5px\",\n  fontSize:\"30px\",right:\"10px\",top:\"6px\"\n};\nconst cardImgTop = {\n  width: \"100%\",\n  height: \"15vw\",\n  objectFit: \"cover\",\n};\nconst titleHeight = {\n  height: \"50px\",\n};\n\nconst widthSet = {\n  width: \"18rem\",\n\n};\n// const marginSet = {\n//   margin: \"70px\",\n// };\nconst rectangleSet = {\n  position: \"absolute\",\n  display: \"inline-block\",\n  top: \"5px\",\n  left: \"0px\",\n};\nconst triangleSet = {\n  position: \"absolute\",\n  display: \"inline-block\",\n  top: \"5px\",\n  left: \"80px\",\n};\n\nvar currentPrice=0;\nconst OrderDetails = data.OrderDetails;\nvar productType = null;\nclass ViewCard extends Component {\n  constructor() {\n    super()\n    this.state = {\n      product:[],\n      arrayF: null,\n      arrayB: null, \n      // fontName: \"Montserrat\",\n      color: \"black\",\n      // alignment: \"left\",\n      // bold: false,\n      // underline: false,\n      // italic: false,\n      // word: \"\",\n      // fontSize: 20,\n      border: true,\n      // option: 0,\n      // background: \"#ffffff\",\n      // tshirtFront: \"/white_mockup.png\",\n      // tshirtBack: \"/red_mockup.png\",\n      // selected: \"\",\n      // deltaPosition: { x: 0, y: 0 },\n      // acceptedFiles: [],\n      arrayFimg: [],\n      arrayBimg: [],\n  };\n}\ncalculateCurrentPrice(actualPrice,discount)\n{\n  currentPrice = actualPrice-((discount/100)*actualPrice)\n  return currentPrice\n}\n  componentDidMount = () => {\n    var pathArray = window.location.pathname.split('/');\n    productType = pathArray[pathArray.length-1]\n    axios.get(`/design/${productType}`).then(response =>{\n        console.log(response.data)\n        this.setState({\n            product:response.data,\n            productType:productType\n        },()=>console.log(this.state.product))\n    })\n}\n// arrayBufferToBase64(buffer) {\n//   var binary = '';\n//   var bytes = [].slice.call(new Uint8Array(buffer));\n//   bytes.forEach((b) => binary += String.fromCharCode(b));\n//   return window.btoa(binary);\n// };\n\nmoveToWishlistHandle= (index,id) =>\n{\n  console.log(this.state.product[index].inWishlist)\n  this.setState(({product}) => ({\n    product: [\n        ...product.slice(0,index),\n        {\n            ...product[index],\n            inWishlist: !this.state.product[index].inWishlist,\n        },\n        ...product.slice(index+1)\n    ]\n  }),()=>\n  {\n    console.log(this.state.product[index].inWishlist)\n    axios.post(`http://localhost:3001/design/${productType}/${id}`,{inWishlist:this.state.product[index].inWishlist})\n    .then(response=>console.log(response.data))\n    .catch(err => {\n      console.log(err)\n    })\n  });\n}\n\n  render() {\n    const {\n      // arrayF,\n      // arrayB,\n      // border,\n      // tshirtFront,\n      // tshirtBack,\n      // arrayFimg,\n      // arrayBimg,\n      productType\n    } = this.state;\n    return (\n          <div class=\"row d-flex justify-content-center\" >\n            {this.state.product==null?<p></p>:\n            this.state.product.map((order_info, index) => (\n              \n              <DesignCards arrayF={order_info.customized_object.arrayF}\n                 arrayB={order_info.customized_object.arrayB}\n                 arrayFimg = {order_info.customized_object.arrayFImg}\n                 arrayBimg = {order_info.customized_object.arrayBImg}\n                 actualPrice={order_info.actualPrice}\n                 name={order_info.name}\n                 discount={order_info.discount}\n                 imageColor={order_info.customized_object.imageColor}\n                 frontString={order_info.customized_object.frontString}\n                 backString={order_info.customized_object.backString}\n                 inWishlist={order_info.inWishlist}\n                 productType={productType}\n                 location={order_info.location}\n                 index={index}\n                 _id={order_info._id}>\n\n              </DesignCards>\n           ))}\n          </div>\n    );\n  }\n}\n\nexport default ViewCard;\n"]},"metadata":{},"sourceType":"module"}